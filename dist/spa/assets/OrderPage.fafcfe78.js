import{Q as j}from"./QImg.8c01a0f0.js";import{a as E,Q as O}from"./QCard.a453ff6c.js";import{an as F,_ as N,r as g,c as P,R as n,V as f,U as r,ao as _,a3 as o,S as k,a2 as v,F as h,Z as d,f as c,$ as S,X as T,M as G,aq as C,Y as I,av as b}from"./index.c99f8be1.js";import{b as M,a as Q,Q as x}from"./QItem.f34ee267.js";import{Q as Y}from"./QInput.7902c6d2.js";import{Q as A}from"./QPage.9bc20ae8.js";import"./use-dark.40dd0812.js";import"./use-key-composition.6e228c43.js";const X=F("game",{state:()=>({games:[{id:"tft",name:"Team Fight Tactics",image:"https://cdnb.artstation.com/p/assets/covers/images/025/410/377/large/t-j-geisen-tft-iconv2-artstation-thumbnail.jpg?1585702150",description:"Strategy game"},{id:"lol",name:"League of Legends",image:"https://yt3.googleusercontent.com/duXIJFDYVRM07N6fELoAwKGk2LkoTPnHYGEI1qjJdGlzEZSjxDjfYhSDXtdSBovq4iVXmEaHEQ=s900-c-k-c0x00ffffff-no-rj",description:"MOBA game"},{id:"valorant",name:"Valorant",image:"https://seeklogo.com/images/V/valorant-logo-FAB2CA0E55-seeklogo.com.png",description:"FPS game"}],paymentMethods:[{id:"credit_card",name:"Credit Card"},{id:"cash",name:"Cash"}],packages:[{id:"tft_small",gameId:"tft",name:"Small Pack",price:100},{id:"tft_medium",gameId:"tft",name:"Medium Pack",price:200},{id:"tft_large",gameId:"tft",name:"Large Pack",price:300},{id:"lol_small",gameId:"lol",name:"Small Pack",price:100},{id:"lol_medium",gameId:"lol",name:"Medium Pack",price:200},{id:"lol_large",gameId:"lol",name:"Large Pack",price:300},{id:"valorant_small",gameId:"valorant",name:"Small Pack",price:100},{id:"valorant_medium",gameId:"valorant",name:"Medium Pack",price:200},{id:"valorant_large",gameId:"valorant",name:"Large Pack",price:300}],selectedGame:null}),actions:{selectGame(s){this.selectedGame=this.games.find(l=>l.id===s)||null},resetSelection(){this.selectedGame=null}},getters:{filteredPackages:s=>s.selectedGame?s.packages.filter(l=>l.gameId===s.selectedGame.id):[]}});const z={setup(){const s=X(),l=g(null),m=g(""),a=g(null),p=g(null),y=P(()=>s.filteredPackages),e=P(()=>s.paymentMethods);function u(t){l.value=t,s.selectGame(t.id)}function V(){l.value=null,s.resetSelection()}async function q(){if(!l.value||!a.value||!m.value){_.create({type:"negative",message:"Please select a game, package, and enter your Game ID."});return}const t={game_id:l.value.id,user_game_id:m.value,selected_package:a.value.name,status:"Pending"};try{const i=await this.$api.post("/api/orders/create",t);i&&i.status===201?_.create({type:"positive",message:"Order submitted successfully."}):_.create({type:"negative",message:i?i.data.message:"Unknown error occurred"})}catch(i){console.error(i),_.create({type:"negative",message:"There was a problem submitting your order."})}}function D(t){p.value=t,console.log("Payment Method Selected:",t)}function L(t){a.value=t,console.log("Package Selected:",t)}function w(t){return p.value===t}function B(t){return a.value===t}return{games:s.games,paymentMethods:e,filteredPackages:y,selectedGame:l,selectGame:u,resetSelection:V,userGameId:m,submitOrder:q,selectPaymentMethod:D,selectPackage:L,isPaymentMethodSelected:w,isPackageSelected:B}}},R={class:"q-gutter-md row flex-wrap justify-start"},U={class:"text-h6"},H={key:0,class:"q-mt-md"},J={class:"text-h6"},Z={class:"q-mt-md"},K=o("div",{class:"text-h6"},"Choose a Payment Method:",-1),W={class:"q-mt-md"},$=o("div",{class:"text-h6"},"Choose a Package:",-1);function ee(s,l,m,a,p,y){return n(),f(A,{class:"q-pa-md"},{default:r(()=>[o("div",R,[(n(!0),k(h,null,v(a.games,e=>(n(),f(E,{key:e.id,class:"my-card",onClick:u=>a.selectGame(e)},{default:r(()=>[c(j,{src:e.image,alt:e.name,class:"game-image"},null,8,["src","alt"]),c(O,{class:"text-center"},{default:r(()=>[o("div",U,d(e.name),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),a.selectedGame?(n(),k("div",H,[o("div",J,"Selected Game: "+d(a.selectedGame.name),1),c(S,{flat:"",label:"Change Game",onClick:a.resetSelection},null,8,["onClick"]),o("div",Z,[K,c(M,{bordered:"",class:"rounded-borders"},{default:r(()=>[(n(!0),k(h,null,v(a.paymentMethods,e=>G((n(),f(Q,{key:e.id,clickable:"",class:C({"selected-item":a.isPaymentMethodSelected(e)}),onClick:u=>a.selectPaymentMethod(e)},{default:r(()=>[c(x,null,{default:r(()=>[I(d(e.name),1)]),_:2},1024)]),_:2},1032,["class","onClick"])),[[b]])),128))]),_:1})]),o("div",W,[$,c(M,{bordered:"",class:"rounded-borders"},{default:r(()=>[(n(!0),k(h,null,v(a.filteredPackages,e=>G((n(),f(Q,{key:e.id,clickable:"",class:C({"selected-item":a.isPackageSelected(e)}),onClick:u=>a.selectPackage(e)},{default:r(()=>[c(x,null,{default:r(()=>[I(d(e.name)+" - "+d(e.price),1)]),_:2},1024)]),_:2},1032,["class","onClick"])),[[b]])),128))]),_:1})]),c(Y,{modelValue:a.userGameId,"onUpdate:modelValue":l[0]||(l[0]=e=>a.userGameId=e),label:"Your Game ID","lazy-rules":"",rules:[e=>e&&e.length>0||"Please enter your Game ID"]},null,8,["modelValue","rules"]),c(S,{label:"Submit Order",color:"primary",class:"q-mt-md",onClick:a.submitOrder},null,8,["onClick"])])):T("",!0)]),_:1})}var ie=N(z,[["render",ee]]);export{ie as default};
